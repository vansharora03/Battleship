(()=>{"use strict";const t=function(){const t={board:function(t){let e=[];for(let t=0;t<7;t++){e[t]=[];for(let o=0;o<7;o++)e[t][o]={ship:null,tried:!1}}return e}(),ships:[],placeShip:function(t,e,o,n=!1){let a=[t,e];if(n){t+o.length-1>=7&&(a=[7-o.length,e]);let n=a[1],r=a[0];for(let t=0;t<o.length;t++)if(this.board[r+t][n].ship)return!1;this.ships.push(o);for(let t=0;t<o.length;t++)this.board[r+t][n].ship=o}else{e+o.length-1>=7&&(a=[t,7-o.length]);let n=a[1],r=a[0];for(let t=0;t<o.length;t++)if(this.board[r][n+t].ship)return!1;this.ships.push(o);for(let t=0;t<o.length;t++)this.board[r][n+t].ship=o}},receiveAttack:function(t,e){let o=this.board[t][e];o.tried||(o.tried=!0,null!==o.ship&&o.ship.hit())},lost:function(){return this.ships.every((t=>t.isSunk()))}},e=new Set,o=function(t,o){e.has(this.opponent.gameboard.board[t][o])||(this.opponent.gameboard.receiveAttack(t,o),e.add(this.opponent.gameboard.board[t][o]))},n=function(t){return Math.floor(Math.random()*t)},a=function(t=n){let r=t(7),s=t(7);e.has(this.opponent.gameboard.board[r][s])?a.call(this,t):(o.call(this,r,s),e.add(this.opponent.gameboard.board[r][s]))};return{gameboard:t,opponent:null,attack:o,computerAttack:a}},e=function(e){const o=t(),n=t();return o.opponent=n,n.opponent=o,{setUpUserBoard:function(){const t=document.createElement("div");t.classList.add("user-board");for(let e=0;e<o.gameboard.board.length;e++)for(let n=0;n<o.gameboard.board[e].length;n++){const o=document.createElement("div");o.classList.add("user-board-square"),o.dataset.x=n,o.dataset.y=e,t.appendChild(o)}e.appendChild(t)},setUpComputerBoard:function(){const t=document.createElement("div");t.classList.add("computer-board");for(let e=0;e<n.gameboard.board.length;e++)for(let o=0;o<n.gameboard.board[e].length;o++){const n=document.createElement("div");n.classList.add("computer-board-square"),n.dataset.x=o,n.dataset.y=e,t.appendChild(n)}e.appendChild(t)}}},o=document.querySelector(".content");e(o).setUpUserBoard(),e(o).setUpComputerBoard()})();